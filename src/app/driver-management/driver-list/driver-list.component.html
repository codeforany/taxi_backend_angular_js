<div fxLayout="column" fxLayoutAlign="center stretch" style="margin: 10px;">
    <h3>Driver List</h3>

    <div class="mat-elevation-z8">
        <div fxLayout="row" fxLayoutAlign="end stretch" fxLayoutGap="15px">
            <mat-form-field>
                <input matInput #txtVal (keyup)="applyFilter(txtVal.value)" placeholder="Search here">
            </mat-form-field>
        </div>

        <table mat-table [dataSource]="dataSource" width="100%" matSort>
            <ng-container matColumnDef="no">
                <th mat-header-cell *matHeaderCellDef> No. </th>
                <td mat-cell *matCellDef="let element; let i = index"> {{i + 1}} </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> User Name </th>
                <td mat-cell *matCellDef="let element"> {{element.name}} </td>
            </ng-container>

            <ng-container matColumnDef="email">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Email </th>
                <td mat-cell *matCellDef="let element"> {{element.email}} </td>
            </ng-container>

            <ng-container matColumnDef="mobile">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Mobile </th>
                <td mat-cell *matCellDef="let element"> {{element.mobile_code}} {{ element.mobile }} </td>
            </ng-container>

            <ng-container matColumnDef="device_source">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Device </th>
                <td mat-cell *matCellDef="let element"> {{element.device_source}} </td>
            </ng-container>

            <ng-container matColumnDef="gender">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Gender </th>
                <td mat-cell *matCellDef="let element"> {{ genderName(element)}} </td>
            </ng-container>

            <ng-container matColumnDef="zone_name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Zone Name </th>
                <td mat-cell *matCellDef="let element"> {{element.zone_name}}
                </td>
            </ng-container>

            <ng-container matColumnDef="image">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Image </th>
                <td mat-cell *matCellDef="let element"> <img *ngIf="element.image != ''" src="{{element.image}}" fxFlex>
                </td>
            </ng-container>

            <ng-container matColumnDef="is_block">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Is Block </th>
                <td mat-cell *matCellDef="let element"  [ngStyle]="{'color' : element.is_block == 1 ? 'red' : 'green' }" > <b> {{ isBlock(element)}} </b> </td>
            </ng-container>

            <ng-container matColumnDef="status">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                <td mat-cell *matCellDef="let element"> <b> {{element.status}} </b> </td>
            </ng-container>

            <ng-container matColumnDef="is_online">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Is Online </th>
                <td mat-cell *matCellDef="let element" [ngStyle]="{'color' : element.is_online == 1 ?  'green' : 'red'}"> <b>{{ isOnline(element) }} </b></td>
            </ng-container>

            <ng-container matColumnDef="created_date">
                <th mat-header-cell *matHeaderCellDef mat-sort-header> Created Date </th>
                <td mat-cell *matCellDef="let element"> {{element.created_date}} </td>
            </ng-container>

            <ng-container matColumnDef="action">
                <th mat-header-cell *matHeaderCellDef> Action </th>
                <td mat-cell *matCellDef="let element" fxLayoutGap="10px">
                    <button mat-mini-fab color="primary" [routerLink]= "['/driver-detail', element.user_id ]" ><mat-icon>edit</mat-icon></button>
                    <button mat-mini-fab color="warn"><mat-icon>delete</mat-icon></button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator [pageSizeOptions]="[20,50,100]"></mat-paginator>

    </div>

</div>